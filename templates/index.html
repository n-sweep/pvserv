<!doctype html>
<html>
    <head>
        <title>Plotly Live-update Graph</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.1.3/socket.io.min.js"></script>
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    </head>
    <body style="background-color: #1b1b1b">
        <div id="graph"></div>
        <script type="text/javascript">
            $(document).ready(function(){
                var socket = io.connect(
                    'http://localhost:5000',
                    {transports: ['websocket']}
                );
                socket.on('connect', function() {
                    console.log('connected');
                });
                socket.on('disconnect', function() {
                    console.log('disconnected');
                });
                socket.on('error', function(error){
                    console.error('Error:', error);
                });
                socket.on('update', function(data){
                    console.log('Data:', data);
                    var parsed = JSON.parse(data)
                    var layout = {
                        plot_bgcolor: '#1b1b1b',  // Background color of the plot
                        paper_bgcolor: '#1b1b1b',  // Background color of the paper surrounding the plot
                        font: {
                            color: '#fff'  // Font color
                        }
                    };
                    Plotly.newPlot('graph', parsed, layout);
                });
            });
        </script>
    </body>
</html>
